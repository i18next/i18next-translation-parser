!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.i18nextTranslationParser=e.i18nextTranslationParser||{})}(this,function(e){"use strict";function t(e){var t=a.parse("<dummyI18nTag>"+e+"</dummyI18nTag>");return n(t),t[0].children||[]}function n(e){function t(e){e&&e.forEach(function(e){if("text"===e.type&&(e.content.indexOf("{{")>-1||e.content.indexOf("$t{")>-1)){var n=e.content.split(o),i=n.length>1?e.content.split(o).reduce(function(e,t,n){if(n%2==0)e.push({type:"text",content:t});else if(0===t.indexOf("{{-")){var i=t.substring(3,t.length-2);e.push({type:"interpolation_unescaped",raw:t,prefix:"{{-",suffix:"}}",content:i,variable:i.trim()})}else if(0===t.indexOf("{{")){var r=t.substring(2,t.length-2);e.push({type:"interpolation",raw:t,prefix:"{{",suffix:"}}",content:r,variable:r.trim()})}else if(0===t.indexOf("$t{")){var a=t.substring(3,t.length-1);e.push({type:"nesting",raw:t,prefix:"$t{",suffix:"}",content:a,variable:a.trim()})}return e},[]):[];e.children=i}e.children&&t(e.children)})}return t(e),e}function i(e){var t=[{type:"tag",name:"dummyI18nTag",voidElement:!1,attrs:void 0,children:e}],n=s.stringify(t);return n.substring(14,n.length-15)}function r(e){function t(e){e&&e.forEach(function(e){"tag"===e.type&&n.tags++,"interpolation_unescaped"===e.type&&n.interpolation_unescaped++,"interpolation"===e.type&&n.interpolation++,"nesting"===e.type&&n.nesting++,e.children&&t(e.children)})}var n={interpolation:0,interpolation_unescaped:0,nesting:0,tags:0};return t(e),n}var a=require("html-parse-stringify2"),o=new RegExp("({{[^}]+}}|\\$t{[^}]+})","g"),s=require("html-parse-stringify2");e.parse=t,e.stringify=i,e.astStats=r,Object.defineProperty(e,"__esModule",{value:!0})});
