!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.i18nextTranslationParser=e.i18nextTranslationParser||{})}(this,function(e){"use strict";function n(e){var n=a.parse("<dummyI18nTag>"+e+"</dummyI18nTag>",{ignoreCollapse:!0});return t(n),n[0].children||[]}function t(e){function n(e){e&&e.forEach(function(e){if("text"===e.type&&(e.content.indexOf("{{")>-1||e.content.indexOf("$t{")>-1)){var t=e.content.split(o),i=t.length>1?e.content.split(o).reduce(function(e,n,t){if(t%2==0)e.push({type:"text",content:n});else if(0===n.indexOf("{{-")){var i=n.substring(3,n.length-2);e.push({type:"interpolation_unescaped",raw:n,prefix:"{{-",suffix:"}}",content:i,variable:i.trim()})}else if(0===n.indexOf("{{")){var r=n.substring(2,n.length-2);e.push({type:"interpolation",raw:n,prefix:"{{",suffix:"}}",content:r,variable:r.trim()})}else if(0===n.indexOf("$t{")){var a=n.substring(3,n.length-1);e.push({type:"nesting",raw:n,prefix:"$t{",suffix:"}",content:a,variable:a.trim()})}return e},[]):[];e.children=i}e.children&&n(e.children)})}return n(e),e}function i(e){var n=[{type:"tag",name:"dummyI18nTag",voidElement:!1,attrs:void 0,children:e}],t=s.stringify(n);return t.substring(14,t.length-15)}function r(e){function n(e){e&&e.forEach(function(e){"tag"===e.type&&t.tags++,"interpolation_unescaped"===e.type&&t.interpolation_unescaped++,"interpolation"===e.type&&t.interpolation++,"nesting"===e.type&&t.nesting++,e.children&&n(e.children)})}var t={interpolation:0,interpolation_unescaped:0,nesting:0,tags:0};return n(e),t}var a=require("html-parse-stringify2"),o=new RegExp("({{[^}]+}}|\\$t{[^}]+})","g"),s=require("html-parse-stringify2");e.parse=n,e.stringify=i,e.astStats=r,Object.defineProperty(e,"__esModule",{value:!0})});
